/*
  ____ _   _           _      
 / ___| \ | | ___   __| | ___
| |  _|  \| |/ _ \ / _` |/ _ \
| |_| | |\  | (_) | (_| |  __/
 \____|_| \_|\___/ \__,_|\___| (Steam_0:1:70711393)
 
 This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License. To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/3.0/.
Credit to the author must be given when using/sharing this work or derivative work from it.
 
 Help from https://facepunch.com/member.php?u=602166
*/

local buttonList = {
"models/maxofs2d/button_01.mdl",
"models/maxofs2d/button_02.mdl",
"models/maxofs2d/button_03.mdl",
"models/maxofs2d/button_04.mdl",
"models/maxofs2d/button_05.mdl",
"models/maxofs2d/button_06.mdl",
"models/maxofs2d/button_slider.mdl"
}



hook.Add("CanTool", "ToolExploitFix", function(ply, tr, tool)
	if tool == "button" then
		local model = ply:GetInfo( "button_model" )
		if not table.HasValue( buttonList, model ) then
			ply:ConCommand( "button_model models/maxofs2d/button_05.mdl" )
			ply:ChatPrint("This button model isn't on the buttonlist changing to default button model!")
			return false
		end
	end		
end)

/*
OLD VERSION
*/

/*
if (CLIENT) then
    local function button_model()
        chat.AddText(Color(204, 40, 40, 255), "[", Color(23, 196, 134, 255), "Disabled", Color(204, 40, 40, 255), "]" .. " ", Color(33, 167, 196, 255), "this feature has been disabled due too a exploit!")
        surface.PlaySound("vo/npc/male01/question26.wav")
    end
    concommand.Add("button_model", button_model)
end
*/
