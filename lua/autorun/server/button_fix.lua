local buttonList = {
"models/maxofs2d/button_01.mdl",
"models/maxofs2d/button_02.mdl",
"models/maxofs2d/button_03.mdl",
"models/maxofs2d/button_04.mdl",
"models/maxofs2d/button_05.mdl",
"models/maxofs2d/button_06.mdl",
"models/maxofs2d/button_slider.mdl"
}



hook.Add("CanTool", "ToolExploitFix", function(ply, tr, tool)
	if tool == "button" then
		local model = ply:GetInfo( "button_model" )
		if not table.HasValue( buttonList, model ) then
			ply:ConCommand( "button_model models/maxofs2d/button_05.mdl" )
			ply:ChatPrint("This button model isn't on the buttonlist changing to default button model!")
			return false
		end
	end		
end)

/*
OLD VERSION
*/

/*
if (CLIENT) then
    local function button_model()
        chat.AddText(Color(204, 40, 40, 255), "[", Color(23, 196, 134, 255), "Disabled", Color(204, 40, 40, 255), "]" .. " ", Color(33, 167, 196, 255), "this feature has been disabled due too a exploit!")
        surface.PlaySound("vo/npc/male01/question26.wav")
    end
    concommand.Add("button_model", button_model)
end
*/
